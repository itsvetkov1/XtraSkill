---
phase: 10-polish-and-empty-states
plan: 03
type: execute
wave: 2
depends_on: ["10-01"]
files_modified:
  - frontend/lib/screens/projects/project_list_screen.dart
  - frontend/lib/screens/threads/thread_list_screen.dart
  - frontend/lib/screens/documents/document_list_screen.dart
  - frontend/lib/screens/projects/project_detail_screen.dart
autonomous: true

must_haves:
  truths:
    - "Projects list shows EmptyState widget when no projects"
    - "Threads list shows EmptyState widget when no threads"
    - "Documents list shows EmptyState widget when no documents"
    - "All empty states use FilledButton (not ElevatedButton)"
    - "All empty states have encouraging tone"
  artifacts:
    - path: "frontend/lib/screens/projects/project_list_screen.dart"
      provides: "Project list with consistent empty state"
      contains: "EmptyState"
    - path: "frontend/lib/screens/threads/thread_list_screen.dart"
      provides: "Thread list with consistent empty state"
      contains: "EmptyState"
    - path: "frontend/lib/screens/documents/document_list_screen.dart"
      provides: "Document list with consistent empty state"
      contains: "EmptyState"
  key_links:
    - from: "frontend/lib/screens/projects/project_list_screen.dart"
      to: "frontend/lib/widgets/empty_state.dart"
      via: "import and usage"
      pattern: "EmptyState\\("
    - from: "frontend/lib/screens/threads/thread_list_screen.dart"
      to: "frontend/lib/widgets/empty_state.dart"
      via: "import and usage"
      pattern: "EmptyState\\("
---

<objective>
Update all list screens to use the reusable EmptyState widget for consistent empty state presentation.

Purpose: Implement ONBOARD-01, ONBOARD-02, ONBOARD-03 - consistent empty states across projects, threads, and documents lists.

Output: All list screens use EmptyState widget with appropriate icon, message, and CTA for each context.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/10-polish-and-empty-states/10-CONTEXT.md
@frontend/lib/widgets/empty_state.dart
@frontend/lib/screens/projects/project_list_screen.dart
@frontend/lib/screens/threads/thread_list_screen.dart
@frontend/lib/screens/documents/document_list_screen.dart
@frontend/lib/screens/projects/project_detail_screen.dart
</context>

<tasks>

<task type="auto">
  <name>Task 1: Update ProjectListScreen empty state</name>
  <files>
    frontend/lib/screens/projects/project_list_screen.dart
  </files>
  <action>
Replace the inline empty state code (lines 72-93) with EmptyState widget:

1. Import `../../widgets/empty_state.dart`

2. Replace the existing empty state Center/Column with:
   ```dart
   EmptyState(
     icon: Icons.folder_outlined,
     title: 'No projects yet',
     message: 'Create your first project to get started!',
     buttonLabel: 'Create Project',
     onPressed: () => _showCreateProjectDialog(context),
   )
   ```

3. Remove the manual Column, Icon, Text, SizedBox, ElevatedButton.icon code

The existing empty state has the right structure but uses ElevatedButton. The EmptyState widget uses FilledButton per CONTEXT.md requirements.
  </action>
  <verify>
    - `flutter analyze frontend/lib/screens/projects/project_list_screen.dart` shows no errors
    - Delete all projects and verify EmptyState displays with FilledButton
  </verify>
  <done>ProjectListScreen uses EmptyState widget with folder icon and "Create Project" CTA</done>
</task>

<task type="auto">
  <name>Task 2: Update ThreadListScreen and DocumentListScreen empty states</name>
  <files>
    frontend/lib/screens/threads/thread_list_screen.dart
    frontend/lib/screens/documents/document_list_screen.dart
    frontend/lib/screens/projects/project_detail_screen.dart
  </files>
  <action>
**ThreadListScreen (lines 119-145):**

1. Import `../../widgets/empty_state.dart`

2. Replace inline empty state with:
   ```dart
   EmptyState(
     icon: Icons.chat_bubble_outline,
     title: 'No conversations yet',
     message: 'Start a conversation to discuss requirements with AI assistance.',
     buttonLabel: 'Start Conversation',
     buttonIcon: Icons.add_comment,
     onPressed: _showCreateDialog,
   )
   ```

**DocumentListScreen (lines 71-89):**

1. Import `../../widgets/empty_state.dart`

2. Replace inline empty state with:
   ```dart
   EmptyState(
     icon: Icons.description_outlined,
     title: 'No documents yet',
     message: 'Upload documents to provide context for AI conversations.',
     buttonLabel: 'Upload Document',
     buttonIcon: Icons.upload_file,
     onPressed: () async {
       await Navigator.push(
         context,
         MaterialPageRoute(
           builder: (ctx) => DocumentUploadScreen(projectId: widget.projectId),
         ),
       );
       if (context.mounted) {
         context.read<DocumentProvider>().loadDocuments(widget.projectId);
       }
     },
   )
   ```

**ProjectDetailScreen _DocumentsTab (lines 310-340):**

1. Import `../../../widgets/empty_state.dart` (note: different relative path)

2. Replace inline empty state with:
   ```dart
   EmptyState(
     icon: Icons.description_outlined,
     title: 'No documents yet',
     message: 'Upload documents to provide context for AI conversations.',
     buttonLabel: 'Upload Document',
     buttonIcon: Icons.upload_file,
     onPressed: () {
       Navigator.of(context).push(
         MaterialPageRoute(
           builder: (context) => DocumentUploadScreen(projectId: projectId),
         ),
       );
     },
   )
   ```

For all: Remove manual Icon, Text, SizedBox, ElevatedButton.icon code.
  </action>
  <verify>
    - `flutter analyze` shows no errors for all three files
    - Thread list empty state shows with FilledButton when project has no threads
    - Document list empty state shows with FilledButton when project has no documents
  </verify>
  <done>ThreadListScreen, DocumentListScreen, and ProjectDetailScreen _DocumentsTab all use EmptyState widget with appropriate icons and CTAs</done>
</task>

</tasks>

<verification>
1. Run `flutter analyze` - no errors
2. Create new project with no threads/documents - verify EmptyState in threads tab
3. Verify EmptyState in documents tab (standalone screen and project detail tab)
4. Delete all projects - verify EmptyState on projects list
5. Confirm all CTAs are FilledButton style (filled color, not outlined)
6. Confirm encouraging tone in all messages
</verification>

<success_criteria>
- All four screens (ProjectList, ThreadList, DocumentList, ProjectDetail._DocumentsTab) use EmptyState widget
- Each screen has appropriate icon (folder, chat, description)
- Each screen has appropriate CTA text
- All use FilledButton (via EmptyState widget)
- All have encouraging message tone
- All code passes flutter analyze
</success_criteria>

<output>
After completion, create `.planning/phases/10-polish-and-empty-states/10-03-SUMMARY.md`
</output>
